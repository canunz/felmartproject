<!-- views/partials/sidebar.ejs -->
<nav class="sidebar">
  <div class="sidebar-header">
    <img src="/img/logo-white.png" alt="Felmart Logo" class="img-fluid" style="max-height: 50px;">
  </div>
  
  <div class="sidebar-menu">
    <!-- Dashboard -->
    <a href="/dashboard" class="menu-item <%= (titulo.includes('Dashboard') || titulo.includes('Panel')) ? 'active' : '' %>">
      <i class="fas fa-home"></i> Dashboard
    </a>
    
    <% if (usuario.rol === 'administrador') { %>
      <!-- Administración -->
      <div class="menu-category">Administración</div>
      
      <a href="/usuarios" class="menu-item <%= titulo.includes('Usuario') ? 'active' : '' %>">
        <i class="fas fa-users"></i> Usuarios
      </a>
      
      <a href="/clientes" class="menu-item <%= titulo.includes('Cliente') && !titulo.includes('Panel') ? 'active' : '' %>">
        <i class="fas fa-building"></i> Clientes
      </a>
      
      <a href="/residuos" class="menu-item <%= titulo.includes('Residuo') ? 'active' : '' %>">
        <i class="fas fa-trash-alt"></i> Residuos
      </a>
    <% } %>
    
    <!-- Gestión -->
    <div class="menu-category">Gestión</div>
    
    <% if (usuario.rol === 'cliente') { %>
      <a href="/perfil" class="menu-item <%= titulo.includes('Perfil') ? 'active' : '' %>">
        <i class="fas fa-user"></i> Mi Perfil
      </a>
    <% } %>
    
    <a href="/solicitudes" class="menu-item <%= titulo.includes('Solicitud') ? 'active' : '' %>">
      <i class="fas fa-file-alt"></i> Solicitudes
    </a>
    
    <a href="/cotizaciones" class="menu-item <%= titulo.includes('Cotizaci') ? 'active' : '' %>">
      <i class="fas fa-file-invoice-dollar"></i> Cotizaciones
    </a>
    
    <a href="/calendario" class="menu-item <%= titulo.includes('Calendario') ? 'active' : '' %>">
      <i class="fas fa-calendar-alt"></i> Calendario
    </a>
    
    <a href="/certificados" class="menu-item <%= titulo.includes('Certificado') ? 'active' : '' %>">
      <i class="fas fa-certificate"></i> Certificados
    </a>
    
    <!-- Reportes -->
    <% if (usuario.rol !== 'cliente') { %>
      <div class="menu-category">Reportes</div>
      
      <a href="/reportes/dashboard" class="menu-item <%= titulo.includes('Estadística') ? 'active' : '' %>">
        <i class="fas fa-chart-bar"></i> Estadísticas
      </a>
      
      <a href="/reportes/solicitudes" class="menu-item <%= titulo.includes('Reporte de Solicitudes') ? 'active' : '' %>">
        <i class="fas fa-file-export"></i> Solicitudes
      </a>
      
      <a href="/reportes/visitas" class="menu-item <%= titulo.includes('Reporte de Visitas') ? 'active' : '' %>">
        <i class="fas fa-clipboard-list"></i> Visitas
      </a>
    <% } %>
  </div>
  
  <!-- Enlace de volver al inicio -->
  <div class="sidebar-footer">
    <a href="/" class="back-home">
      <i class="fas fa-arrow-left"></i> Volver al Inicio
    </a>
  </div>
</nav>